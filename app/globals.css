@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

:root {
  /* Base System Colors - Mapped to Future Lens Light Theme */
  --background: #f8f9fb; /* Was hardcoded #F8F9FB */
  --foreground: #0f172a; /* Slate 900 */

  --card: #ffffff;
  --card-foreground: #0f172a;

  --popover: #ffffff;
  --popover-foreground: #0f172a;

  --primary: #0f172a; /* Slate 900 */
  --primary-foreground: #ffffff;

  --secondary: #f1f5f9; /* Slate 100 */
  --secondary-foreground: #0f172a;

  --muted: #f1f5f9; /* Slate 100 - Used for bubbles/backgrounds */
  --muted-foreground: #64748b; /* Slate 500 - Used for secondary text */

  --accent: #f1f5f9; /* Slate 100 */
  --accent-foreground: #0f172a;

  --destructive: #ef4444; /* Rose 500 approx */
  --destructive-foreground: #ffffff;

  --border: #e2e8f0; /* Slate 200 */
  --input: #e2e8f0;
  --ring: #0f172a;

  /* Custom Semantic Status Colors for Future Lens */
  --success: #10b981; /* Emerald 500 */
  --success-foreground: #ffffff;

  --warning: #f59e0b; /* Amber 500 */
  --warning-foreground: #ffffff;

  --info: #3b82f6; /* Blue 500 */
  --info-foreground: #ffffff;

  /* Adding trending hot topic colors for consistency */
  --hot-1: #fe2c55; /* Top 1 Hot Red */
  --hot-2: #ff6600; /* Top 2 Orange */
  --hot-3: #ff9900; /* Top 3 Amber */

  /* Adding semantic background glow colors */
  --app-bg: 248 249 251; /* #F8F9FB as HSL for light mode */
  --glow-blue: 180 210 235; /* Light blue glow */
  --glow-purple: 200 220 240; /* Light purple-blue glow */
  --glow-accent: 210 225 240; /* Accent glow */

  /* Radius System */
  /* 0.75rem = 12px. rounded-xl = radius + 4px = 16px (Matches design) */
  --radius: 0.75rem;

  /* Chart Colors - Future Lens Unified Chart Color System */
  /* 基于统一调色板：VIDEOINFOGRAPHICA.COM/COLORS #17 */
  /* 现代化设计，符合极简、毛玻璃风格 */
  
  /* 语义化颜色（自动适配深色模式） */
  --chart-semantic-success: #45AAB4;      /* 青绿色 - 成功/增长 */
  --chart-semantic-danger: #F9637C;        /* 粉红色 - 危险/下降 */
  --chart-semantic-warning: #FBB45C;       /* 金黄色 - 警告 */
  --chart-semantic-info: #038DB2;          /* 亮蓝色 - 信息 */
  
  /* 数据系列颜色（固定值，保证可读性） */
  /* 基础6色（直接使用调色板） */
  --chart-series-1: #038DB2;               /* 亮蓝色 - 主系列 */
  --chart-series-2: #45AAB4;               /* 青绿色 - 次系列 */
  --chart-series-3: #206491;               /* 深蓝色 - 第三系列 */
  --chart-series-4: #F9637C;               /* 粉红色 - 第四系列 */
  --chart-series-5: #FE7A66;               /* 橙色 - 第五系列 */
  --chart-series-6: #FBB45C;               /* 金黄色 - 第六系列 */
  /* 扩展系列（基于基础颜色生成浅色变体，+20% 亮度） */
  --chart-series-7: #1AA8C2;               /* 亮蓝色浅色变体 - 第七系列 */
  --chart-series-8: #5DB8C4;               /* 青绿色浅色变体 - 第八系列 */
  --chart-series-9: #3A7AA1;               /* 深蓝色浅色变体 - 第九系列 */
  --chart-series-10: #FF7A8C;              /* 粉红色浅色变体 - 第十系列 */
  --chart-series-11: #FF9A86;             /* 橙色浅色变体 - 第十一系列 */
  --chart-series-12: #FFC966;              /* 金黄色浅色变体 - 第十二系列 */
  
  /* 特殊场景颜色（复用系列颜色，保证一致性） */
  --chart-context-growth: #45AAB4;         /* 青绿色 - 增长 */
  --chart-context-capital: #206491;        /* 深蓝色 - 资本 */
  --chart-context-heat: #F9637C;          /* 粉红色 - 热度 */
  --chart-context-revenue: #038DB2;       /* 亮蓝色 - 收入 */
  --chart-context-profit: #FE7A66;        /* 橙色 - 利润 */
  --chart-context-market: #FBB45C;        /* 金黄色 - 市场 */
  
  /* UI 元素颜色（自动适配深色模式） */
  /* 不使用纯黑色，使用调色板中的深色 */
  --chart-ui-grid: hsl(var(--border) / 0.3);
  --chart-ui-axis: hsl(var(--muted-foreground));
  --chart-ui-text-primary: #263B58;        /* 深蓝灰色 - 主文字（替代纯黑色，基于扩展颜色） */
  --chart-ui-text-secondary: hsl(var(--muted-foreground));
  --chart-ui-text-muted: hsl(var(--muted-foreground) / 0.6);
  --chart-ui-bg: hsl(var(--card));

  --sidebar: #f8fafc;
  --sidebar-foreground: #0f172a;
  --sidebar-primary: #0f172a;
  --sidebar-primary-foreground: #ffffff;
  --sidebar-accent: #f1f5f9;
  --sidebar-accent-foreground: #0f172a;
  --sidebar-border: #e2e8f0;
  --sidebar-ring: #0f172a;
}

.dark {
  /* Future Lens Dark Theme Mappings */
  --background: #0f172a; /* Slate 900 */
  --foreground: #f8fafc; /* Slate 50 */

  --card: #1e293b; /* Slate 800 */
  --card-foreground: #f8fafc;

  --popover: #1e293b;
  --popover-foreground: #f8fafc;

  --primary: #f8fafc; /* Slate 50 */
  --primary-foreground: #0f172a;

  --secondary: #1e293b; /* Slate 800 */
  --secondary-foreground: #f8fafc;

  --muted: #1e293b; /* Slate 800 */
  --muted-foreground: #94a3b8; /* Slate 400 */

  --accent: #1e293b;
  --accent-foreground: #f8fafc;

  --destructive: #7f1d1d;
  --destructive-foreground: #f8fafc;

  --border: #1e293b;
  --input: #1e293b;
  --ring: #94a3b8;

  --success: #059669; /* Emerald 600 */
  --success-foreground: #f8fafc;

  --warning: #d97706; /* Amber 600 */
  --warning-foreground: #f8fafc;

  --info: #2563eb; /* Blue 600 */
  --info-foreground: #f8fafc;

  /* Adding hot colors for dark mode */
  --hot-1: #fe2c55;
  --hot-2: #ff6600;
  --hot-3: #ff9900;

  /* Dark mode background and glow colors - inspired by reference */
  --app-bg: 15 23 42; /* Deep blue-gray base (#0f172a) */
  --glow-blue: 30 58 88; /* Subtle deep blue glow */
  --glow-purple: 45 55 75; /* Subtle deep purple-blue glow */
  --glow-accent: 38 50 70; /* Subtle accent glow */

  /* Chart Colors - Future Lens Unified Chart Color System (Dark Mode) */
  /* 基于统一调色板：VIDEOINFOGRAPHICA.COM/COLORS #17 */
  /* 语义化颜色在深色模式下稍微调亮以保证可读性 */
  --chart-semantic-success: #4DB8C4;        /* 青绿色调亮 - 深色模式 */
  --chart-semantic-danger: #FF7A8C;        /* 粉红色调亮 - 深色模式 */
  --chart-semantic-warning: #FFC966;       /* 金黄色调亮 - 深色模式 */
  --chart-semantic-info: #1AA8C2;          /* 亮蓝色调亮 - 深色模式 */
  
  /* 数据系列颜色保持不变（固定值，保证可读性） */
  /* 基础6色 */
  --chart-series-1: #038DB2;               /* 亮蓝色 */
  --chart-series-2: #45AAB4;               /* 青绿色 */
  --chart-series-3: #206491;               /* 深蓝色 */
  --chart-series-4: #F9637C;               /* 粉红色 */
  --chart-series-5: #FE7A66;               /* 橙色 */
  --chart-series-6: #FBB45C;               /* 金黄色 */
  /* 扩展系列 */
  --chart-series-7: #1AA8C2;               /* 亮蓝色浅色变体 */
  --chart-series-8: #5DB8C4;               /* 青绿色浅色变体 */
  --chart-series-9: #3A7AA1;               /* 深蓝色浅色变体 */
  --chart-series-10: #FF7A8C;              /* 粉红色浅色变体 */
  --chart-series-11: #FF9A86;             /* 橙色浅色变体 */
  --chart-series-12: #FFC966;              /* 金黄色浅色变体 */
  
  /* 特殊场景颜色保持不变（固定值，保证可读性） */
  --chart-context-growth: #45AAB4;         /* 青绿色 */
  --chart-context-capital: #206491;        /* 深蓝色 */
  --chart-context-heat: #F9637C;          /* 粉红色 */
  --chart-context-revenue: #038DB2;       /* 亮蓝色 */
  --chart-context-profit: #FE7A66;        /* 橙色 */
  --chart-context-market: #FBB45C;        /* 金黄色 */
  
  /* UI 元素颜色自动适配（通过 --border, --muted-foreground 等） */
  /* 不使用纯黑色，使用调色板中的深色 */
  --chart-ui-grid: hsl(var(--border) / 0.3);
  --chart-ui-axis: hsl(var(--muted-foreground));
  --chart-ui-text-primary: #3A5A7A;        /* 深蓝灰色调亮 - 主文字（深色模式，替代纯白色） */
  --chart-ui-text-secondary: hsl(var(--muted-foreground));
  --chart-ui-text-muted: hsl(var(--muted-foreground) / 0.6);
  --chart-ui-bg: hsl(var(--card));

  --sidebar: #0f172a;
  --sidebar-foreground: #f8fafc;
  --sidebar-primary: #4880ff;
  --sidebar-primary-foreground: #ffffff;
  --sidebar-accent: #1e293b;
  --sidebar-accent-foreground: #f8fafc;
  --sidebar-border: #1e293b;
  --sidebar-ring: #94a3b8;
}

@theme inline {
  --font-sans: "Geist", "Geist Fallback";
  --font-mono: "Geist Mono", "Geist Mono Fallback";

  --color-background: var(--background);
  --color-foreground: var(--foreground);

  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);

  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);

  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);

  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);

  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);

  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);

  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);

  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);

  --color-success: var(--success);
  --color-success-foreground: var(--success-foreground);

  --color-warning: var(--warning);
  --color-warning-foreground: var(--warning-foreground);

  --color-info: var(--info);
  --color-info-foreground: var(--info-foreground);

  /* Adding hot color tokens */
  --color-hot-1: var(--hot-1);
  --color-hot-2: var(--hot-2);
  --color-hot-3: var(--hot-3);

  --color-app-bg: var(--app-bg);
  --color-glow-blue: var(--glow-blue);
  --color-glow-purple: var(--glow-purple);
  --color-glow-accent: var(--glow-accent);

  /* Future Lens Chart Color System Tokens */
  /* 基于统一调色板：VIDEOINFOGRAPHICA.COM/COLORS #17 */
  --color-chart-semantic-success: var(--chart-semantic-success);
  --color-chart-semantic-danger: var(--chart-semantic-danger);
  --color-chart-semantic-warning: var(--chart-semantic-warning);
  --color-chart-semantic-info: var(--chart-semantic-info);
  --color-chart-series-1: var(--chart-series-1);
  --color-chart-series-2: var(--chart-series-2);
  --color-chart-series-3: var(--chart-series-3);
  --color-chart-series-4: var(--chart-series-4);
  --color-chart-series-5: var(--chart-series-5);
  --color-chart-series-6: var(--chart-series-6);
  --color-chart-series-7: var(--chart-series-7);
  --color-chart-series-8: var(--chart-series-8);
  --color-chart-series-9: var(--chart-series-9);
  --color-chart-series-10: var(--chart-series-10);
  --color-chart-series-11: var(--chart-series-11);
  --color-chart-series-12: var(--chart-series-12);
  --color-chart-context-growth: var(--chart-context-growth);
  --color-chart-context-capital: var(--chart-context-capital);
  --color-chart-context-heat: var(--chart-context-heat);
  --color-chart-context-revenue: var(--chart-context-revenue);
  --color-chart-context-profit: var(--chart-context-profit);
  --color-chart-context-market: var(--chart-context-market);

  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);

  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

/* Added shimmer animation for gradient text effects */
@keyframes shimmer {
  0% {
    background-position: 200% center;
  }
  100% {
    background-position: -200% center;
  }
}

.animate-shimmer {
  animation: shimmer 8s linear infinite;
}

@layer utilities {
  /* Liquid Orb Morph Animations - 参考代码：更圆润的有机形状 */
  @keyframes morph {
    0%, 100% {
      /* 参考代码：使用更圆润的百分比值，创建有机的液态形状 */
      border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
      transform: translate(0, 0) rotate(0deg);
    }
    50% {
      /* 参考代码：中间状态使用不同的百分比值，让形状更动态 */
      border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%;
      transform: translate(10px, -20px) rotate(180deg);
    }
  }

  .animate-morph-slow {
    animation: morph 10s ease-in-out infinite alternate;
    will-change: transform, border-radius;
  }

  .animate-morph-medium {
    animation: morph 8s ease-in-out infinite alternate;
    will-change: transform, border-radius;
  }

  .animate-morph-fast {
    animation: morph 6s ease-in-out infinite alternate;
    will-change: transform, border-radius;
  }

  .animation-delay-2000 {
    animation-delay: -2.5s;
  }

  .animation-delay-4000 {
    animation-delay: -5s;
  }

  /* Text Shimmer Animation */
  @keyframes textShimmer {
    0% {
      background-position: -200% center;
    }
    100% {
      background-position: 200% center;
    }
  }

  .animate-text-shimmer {
    animation: textShimmer 3s linear infinite;
    will-change: background-position;
  }

  .ease-spring {
    transition-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1.275);
  }

  /* Processing 状态增强动画 - 更明显的翻滚效果 */
  @keyframes processing-orb {
    0% {
      transform: scale(0.7) rotate(0deg) translateY(0);
    }
    25% {
      transform: scale(0.65) rotate(90deg) translateY(-10px);
    }
    50% {
      transform: scale(0.6) rotate(180deg) translateY(0);
    }
    75% {
      transform: scale(0.65) rotate(270deg) translateY(10px);
    }
    100% {
      transform: scale(0.7) rotate(360deg) translateY(0);
    }
  }

  .animate-processing-orb {
    animation: processing-orb 1.2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    will-change: transform;
    transform: translateZ(0); /* GPU 加速 */
  }

  /* Idle 状态增强动画 - 轻微的呼吸效果 */
  @keyframes idle-breathe {
    0%, 100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.05);
    }
  }

  .animate-idle-breathe {
    animation: idle-breathe 3s ease-in-out infinite;
    will-change: transform;
    transform: translateZ(0); /* GPU 加速 */
  }

  /* Audio Waveform Animations - 9个元素，对称波形，细致轻量 */
  @keyframes waveform-1 {
    0%, 100% { height: 0.375rem; opacity: 0.5; }
    50% { height: 0.5625rem; opacity: 0.9; }
  }
  @keyframes waveform-2 {
    0%, 100% { height: 0.5625rem; opacity: 0.6; }
    50% { height: 0.75rem; opacity: 1; }
  }
  @keyframes waveform-3 {
    0%, 100% { transform: scale(1); opacity: 0.6; }
    50% { transform: scale(1.3); opacity: 1; }
  }
  @keyframes waveform-4 {
    0%, 100% { height: 0.9375rem; opacity: 0.7; }
    50% { height: 1.125rem; opacity: 1; }
  }
  @keyframes waveform-5 {
    0%, 100% { height: 1.125rem; opacity: 0.8; }
    50% { height: 1.375rem; opacity: 1; }
  }
  @keyframes waveform-6 {
    0%, 100% { height: 0.9375rem; opacity: 0.7; }
    50% { height: 1.125rem; opacity: 1; }
  }
  @keyframes waveform-7 {
    0%, 100% { transform: scale(1); opacity: 0.6; }
    50% { transform: scale(1.3); opacity: 1; }
  }
  @keyframes waveform-8 {
    0%, 100% { height: 0.5625rem; opacity: 0.6; }
    50% { height: 0.75rem; opacity: 1; }
  }
  @keyframes waveform-9 {
    0%, 100% { height: 0.375rem; opacity: 0.5; }
    50% { height: 0.5625rem; opacity: 0.9; }
  }

  .animate-waveform-1 {
    animation: waveform-1 0.6s ease-in-out infinite;
    animation-delay: 0s;
    will-change: height, opacity;
    transform: translateZ(0);
  }
  .animate-waveform-2 {
    animation: waveform-2 0.65s ease-in-out infinite;
    animation-delay: 0.05s;
    will-change: height, opacity;
    transform: translateZ(0);
  }
  .animate-waveform-3 {
    animation: waveform-3 0.6s ease-in-out infinite;
    animation-delay: 0.1s;
    will-change: transform, opacity;
    transform: translateZ(0);
  }
  .animate-waveform-4 {
    animation: waveform-4 0.7s ease-in-out infinite;
    animation-delay: 0.15s;
    will-change: height, opacity;
    transform: translateZ(0);
  }
  .animate-waveform-5 {
    animation: waveform-5 0.75s ease-in-out infinite;
    animation-delay: 0.2s;
    will-change: height, opacity;
    transform: translateZ(0);
  }
  .animate-waveform-6 {
    animation: waveform-6 0.7s ease-in-out infinite;
    animation-delay: 0.15s;
    will-change: height, opacity;
    transform: translateZ(0);
  }
  .animate-waveform-7 {
    animation: waveform-7 0.6s ease-in-out infinite;
    animation-delay: 0.1s;
    will-change: transform, opacity;
    transform: translateZ(0);
  }
  .animate-waveform-8 {
    animation: waveform-8 0.65s ease-in-out infinite;
    animation-delay: 0.05s;
    will-change: height, opacity;
    transform: translateZ(0);
  }
  .animate-waveform-9 {
    animation: waveform-9 0.6s ease-in-out infinite;
    animation-delay: 0s;
    will-change: height, opacity;
    transform: translateZ(0);
  }
}

@layer base {
  * {
    @apply border-border outline-ring/50;
    /* Remove tap highlight color on mobile for native app feel */
    -webkit-tap-highlight-color: transparent;
  }

  /* 确保 AI 特效组件完全没有边框 - 覆盖全局样式 */
  /* 使用更具体的选择器，确保覆盖所有可能的边框样式 */
  /* 优先级必须高于全局的 * { @apply border-border } */
  [data-liquid-orb],
  [data-liquid-orb] *,
  [data-liquid-orb] *::before,
  [data-liquid-orb] *::after,
  [data-liquid-text],
  [data-liquid-text] *,
  [data-liquid-text] *::before,
  [data-liquid-text] *::after {
    border: none !important;
    outline: none !important;
    box-shadow: none !important;
    border-width: 0 !important;
    border-style: none !important;
    border-color: transparent !important;
    border-top: none !important;
    border-right: none !important;
    border-bottom: none !important;
    border-left: none !important;
    border-image: none !important;
    border-radius: 0 !important;
    background-color: transparent !important;
  }

  /* Mobile text scaling protection - prevents browser auto-zoom on real devices */
  html {
    -webkit-text-size-adjust: 100%;
    -moz-text-size-adjust: 100%;
    text-size-adjust: 100%;
    /* Prevent horizontal scroll and rubber-banding */
    overflow-x: hidden;
    overscroll-behavior: none;
    height: 100%;
  }

  body {
    @apply bg-background text-foreground;
    /* Ensure body takes full height and prevents scroll */
    overflow-x: hidden;
    overscroll-behavior: none;
    height: 100%;
    width: 100%;
    /* Removed position: fixed to restore natural document flow and prevent input instability */
    /* Disable user selection by default for app-like feel */
    user-select: none;
    -webkit-user-select: none;
  }

  /* Allow text selection only on specific readable content if needed */
  .select-text {
    user-select: text;
    -webkit-user-select: text;
  }

  /* Prevent image dragging */
  img {
    -webkit-user-drag: none;
    user-drag: none;
  }

  /* Hide scrollbars for cleaner native look */
  ::-webkit-scrollbar {
    display: none;
  }

  /* Force 16px font size on mobile inputs to prevent iOS auto-zoom and horizontal shake */
  @media screen and (max-width: 768px) {
    input,
    textarea,
    select {
      font-size: 16px !important;
    }
  }

  /* 暗黑模式：登录页面背景 - 使用 .dark 类选择器 */
  html.dark [data-liquid-ai-assistant] {
    background: rgba(17, 24, 39, 0.95) !important;
  }
  
  /* 确保暗黑模式下背景正确显示 */
  .dark [data-liquid-ai-assistant] {
    background: rgba(17, 24, 39, 0.95) !important;
  }

  /* Recharts 图表文本颜色覆盖 - 不使用纯黑色 */
  /* 覆盖所有 Recharts SVG 文本元素的默认黑色 */
  .recharts-surface text,
  .recharts-surface tspan,
  .recharts-legend-item-text,
  .recharts-tooltip-item-value,
  .recharts-label,
  .recharts-label-list text {
    fill: #263B58 !important; /* 深蓝灰色 - 替代纯黑色 */
    color: #263B58 !important;
  }

  /* 深色模式下的 Recharts 文本颜色 */
  .dark .recharts-surface text,
  .dark .recharts-surface tspan,
  .dark .recharts-legend-item-text,
  .dark .recharts-tooltip-item-value,
  .dark .recharts-label,
  .dark .recharts-label-list text {
    fill: #3A5A7A !important; /* 深蓝灰色调亮 - 深色模式 */
    color: #3A5A7A !important;
  }
}
